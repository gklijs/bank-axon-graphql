<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="930px" preserveAspectRatio="none" style="width:1970px;height:930px;" version="1.1" viewBox="0 0 1970 930" width="1970px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="381.75" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="956" y="489.75"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 5.0,5.0;" x1="84" x2="84" y1="192.9375" y2="907.5"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 5.0,5.0;" x1="965" x2="965" y1="192.9375" y2="907.5"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 5.0,5.0;" x1="1886" x2="1886" y1="192.9375" y2="907.5"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="124" x="16" y="180.2422">client</text><ellipse cx="84" cy="26" fill="#FFFFFF" rx="16" ry="16" style="stroke: #A80036; stroke-width: 4.0;"/><path d="M84,42 L84,96 M58,58 L110,58 M84,96 L58,126 M84,96 L110,126 " fill="none" style="stroke: #A80036; stroke-width: 4.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="418" x="751" y="180.2422">GraphQL endpoint</text><ellipse cx="966" cy="100" fill="#FFFF00" rx="24" ry="24" style="stroke: #A80036; stroke-width: 4.0;"/><line style="stroke: #A80036; stroke-width: 4.0;" x1="942" x2="990" y1="128" y2="128"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="132" x="1814" y="180.2422">Kafka</text><path d="M1845,76 L1845,124 M1845,100 L1879,100 " fill="none" style="stroke: #A80036; stroke-width: 4.0;"/><ellipse cx="1903" cy="100" fill="#D3D3D3" rx="24" ry="24" style="stroke: #A80036; stroke-width: 4.0;"/><rect fill="#FFFFFF" height="381.75" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="956" y="489.75"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="84" x2="168" y1="285.875" y2="285.875"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="168" x2="168" y1="285.875" y2="311.875"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="86" x2="168" y1="311.875" y2="311.875"/><polygon fill="#A80036" points="106,303.875,86,311.875,106,319.875,98,311.875" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="750" x="98" y="269.1797">Fill in amount, to, and description</text><polygon fill="#A80036" points="942,392.8125,962,400.8125,942,408.8125,950,400.8125" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="84" x2="954" y1="400.8125" y2="400.8125"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="834" x="98" y="384.1172">Subscribe to money_transfer stream</text><polygon fill="#A80036" points="1862,481.75,1882,489.75,1862,497.75,1870,489.75" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="976" x2="1874" y1="489.75" y2="489.75"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="764" x="990" y="473.0547">Send a transfer money command</text><polygon fill="#A80036" points="998,570.6875,978,578.6875,998,586.6875,990,578.6875" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="986" x2="1884" y1="578.6875" y2="578.6875"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="862" x="1010" y="561.9922">Sends records about money transfers</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="976" x2="1060" y1="667.625" y2="667.625"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1060" x2="1060" y1="667.625" y2="693.625"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="978" x2="1060" y1="693.625" y2="693.625"/><polygon fill="#A80036" points="998,685.625,978,693.625,998,701.625,990,693.625" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="294" x="990" y="650.9297">Filter on uuid</text><polygon fill="#A80036" points="106,774.5625,86,782.5625,106,790.5625,98,782.5625" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="94" x2="954" y1="782.5625" y2="782.5625"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="616" x="118" y="765.8672">Send money transfer result</text><polygon fill="#A80036" points="942,863.5,962,871.5,942,879.5,950,871.5" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="84" x2="954" y1="871.5" y2="871.5"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="546" x="98" y="854.8047">End subscription with id</text><!--MD5=[0ab9417a4b981d2bc08ad3e1f69ff581]
@startuml
skinparam shadowing false
skinparam defaultFontName Roboto
skinparam defaultFontSize 26
hide footbox

actor client as cl #White
entity "GraphQL endpoint" as ge #Yellow
boundary "Kafka" as ka #LightGrey

cl -> cl : Fill in amount, to, and description
cl -> ge : Subscribe to money_transfer stream
ge -> ka : Send a transfer money command
activate ge
ka -> ge : Sends records about money transfers
ge -> ge : Filter on uuid
ge -> cl : Send money transfer result
cl -> ge : End subscription with id
deactivate ge

@enduml

PlantUML version 1.2019.10(Fri Sep 13 22:53:03 CEST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.4+10-b304.69
Operating System: Mac OS X
Default Encoding: UTF-8
Language: en
Country: NL
--></g></svg>