<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1052px" preserveAspectRatio="none" style="width:1340px;height:1052px;" version="1.1" viewBox="0 0 1340 1052" width="1340px" zoomAndPan="magnify"><defs/><g><!--MD5=[deda91f2bf9c11baeebd5a13a4635f8d]
entity pgb--><path d="M1034,930 C1034,910 1175,910 1175,910 C1175,910 1316,910 1316,930 L1316,1008.9375 C1316,1028.9375 1175,1028.9375 1175,1028.9375 C1175,1028.9375 1034,1028.9375 1034,1008.9375 L1034,930 " fill="#ADD8E6" style="stroke: #000000; stroke-width: 3.0;"/><path d="M1034,930 C1034,950 1175,950 1175,950 C1175,950 1316,950 1316,930 " fill="none" style="stroke: #000000; stroke-width: 3.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="242" x="1054" y="1006.2422">balancedb</text><!--MD5=[f6bfcafd820c9a76ef45106837fbc975]
entity pgt--><path d="M846,468 C846,448 1025,448 1025,448 C1025,448 1204,448 1204,468 L1204,546.9375 C1204,566.9375 1025,566.9375 1025,566.9375 C1025,566.9375 846,566.9375 846,546.9375 L846,468 " fill="#ADD8E6" style="stroke: #000000; stroke-width: 3.0;"/><path d="M846,468 C846,488 1025,488 1025,488 C1025,488 1204,488 1204,468 " fill="none" style="stroke: #000000; stroke-width: 3.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="318" x="866" y="544.2422">transactiondb</text><!--MD5=[6d2a6cf4a8ae9c6575d0c7e23e26fe98]
entity ka--><rect fill="#D3D3D3" height="100.9375" style="stroke: #A80036; stroke-width: 3.0;" width="172" x="159" y="688"/><rect fill="#D3D3D3" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="149" y="698"/><rect fill="#D3D3D3" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="149" y="768.9375"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="132" x="179" y="756.2422">Kafka</text><!--MD5=[6377be883f12643b62e189b60fe92e84]
entity ch--><rect fill="#FFFF00" height="100.9375" style="stroke: #A80036; stroke-width: 3.0;" width="466" x="12" y="919"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="2" y="929"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="2" y="999.9375"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="426" x="32" y="987.2422">Command handler</text><!--MD5=[dedfc5a9d92a37b91d8f948a8cc861cf]
entity ge--><rect fill="#FFFF00" height="100.9375" style="stroke: #A80036; stroke-width: 3.0;" width="458" x="16" y="457"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="6" y="467"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="6" y="537.9375"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="418" x="36" y="525.2422">GraphQL endpoint</text><!--MD5=[b9586600103814a499497f8f31890a4f]
entity fs--><rect fill="#90EE90" height="100.9375" style="stroke: #A80036; stroke-width: 3.0;" width="402" x="378" y="59"/><rect fill="#90EE90" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="368" y="69"/><rect fill="#90EE90" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="368" y="139.9375"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="362" x="398" y="127.2422">Frontend server</text><!--MD5=[979c31051cf8d07bdf927ed864b836ec]
entity cl--><ellipse cx="245" cy="36" fill="#FFFFFF" rx="16" ry="16" style="stroke: #A80036; stroke-width: 4.0;"/><path d="M245,52 L245,106 M219,68 L271,68 M245,106 L219,136 M245,106 L271,136 " fill="none" style="stroke: #A80036; stroke-width: 4.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="124" x="183" y="190.2422">client</text><!--MD5=[7b3cc546a3de5e4114e780ad885d2cb4]
reverse link cl to fs--><path d="M318.0102,109 C337.8698,109 357.7294,109 377.5888,109 " fill="none" id="cl&lt;-fs" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="307.625,109,325.625,117,317.625,109,325.625,101,307.625,109" style="stroke: #A80036; stroke-width: 2.0;"/><!--MD5=[f3db19617524fa2b1675bee631d7f11c]
link cl to ge--><path d="M245,212.7302 C245,286.9828 245,384.397 245,446.366 " fill="none" id="cl-ge" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="245,456.7538,253,438.7538,245,446.7538,237,438.7538,245,456.7538" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="245,202.3134,237,220.3134,245,212.3134,253,220.3134,245,202.3134" style="stroke: #A80036; stroke-width: 2.0;"/><!--MD5=[78aeed854374c05e45ee4143ccdfb700]
link ka to ch--><path d="M245,798.4186 C245,832.4194 245,874.736 245,908.7152 " fill="none" id="ka-ch" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="245,918.9742,253,900.9742,245,908.9742,237,900.9742,245,918.9742" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="245,788.1236,237,806.1236,245,798.1236,253,806.1236,245,788.1236" style="stroke: #A80036; stroke-width: 2.0;"/><!--MD5=[4c72282c5405b3efc9f1d632d9d9d02c]
link ge to ka--><path d="M245,567.4186 C245,601.4194 245,643.736 245,677.7152 " fill="none" id="ge-ka" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="245,687.9742,253,669.9742,245,677.9742,237,669.9742,245,687.9742" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="245,557.1236,237,575.1236,245,567.1236,253,575.1236,245,557.1236" style="stroke: #A80036; stroke-width: 2.0;"/><!--MD5=[9955c8460b240defde3c06f4c8a9365c]
link ch to pgb--><path d="M488.774,969 C658.0846,969 878.4142,969 1023.142,969 " fill="none" id="ch-pgb" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1033.43,969,1015.43,961,1023.43,969,1015.43,977,1033.43,969" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="478.4778,969,496.4778,977,488.4778,969,496.4778,961,478.4778,969" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="482" x="515" y="949.2422">executes commands</text><!--MD5=[a3ad420bcc69f228c4f9f3966a390c12]
link ge to pgt--><path d="M484.7502,507 C597.3934,507 729.7774,507 835.3052,507 " fill="none" id="ge-pgt" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="845.4322,507,827.4322,499,835.4322,507,827.4322,515,845.4322,507" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="474.281,507,492.281,515,484.281,507,492.281,499,474.281,507" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="Roboto" font-size="52" lengthAdjust="spacingAndGlyphs" textLength="298" x="511" y="487.2422">derived state</text><!--MD5=[51127aa6a31a4411a505c0b8fb93413d]
@startuml
skinparam shadowing false
skinparam defaultFontName Roboto
skinparam defaultFontSize 26

database balancedb as pgb #LightBlue
database transactiondb as pgt #LightBlue
[Kafka] as ka #LightGrey
[Command handler] as ch #Yellow
[GraphQL endpoint] as ge #Yellow
[Frontend server] as fs #LightGreen
actor client as cl #White

cl <- fs
cl <- - -> ge
ch <-up-> ka
ge <- -> ka
ch <-right-> pgb : executes commands
ge <-right-> pgt : derived state
@enduml

PlantUML version 1.2019.10(Fri Sep 13 22:53:03 CEST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.4+10-b304.69
Operating System: Mac OS X
Default Encoding: UTF-8
Language: en
Country: NL
--></g></svg>